# Context

ASRU stands for Alternatively Spliced Repetitive Unit. An ASRU is a connected component in the similarity subgraph of an Evolutionnary Splicing Graph (=ESG, [1]). 
For a given gene we associate to it two graphs, an ESG (which is a directed graph) and a similarity subgraph (which is an undirected graph). They both share the same set of nodes, a node is defined as a spliced-exon (=s-exon), a s-exon is a set of aligned exonic sequences belonging to different species, in other words it is a MSA. In the ESG, there exist an edge between two nodes if there exist a transcript such that the sequences associated to each node co-occurs in that transcript. In the similarity subgraph, there exist an edge between two nodes if the p-value between those nodes are below some threshold (set to 0.001), in other words if the consensus sequence for each node are similar.
Thus an ASRU is a set of instances where an instance is composed of one or multiple s-exons.

A transcript is a path in the ESG. A translated transcript is a protein isoform thus the set of protein isoforms for a given gene is a subset of the set of paths of an ESG.
Hence an ESG represents the whole transcript variability observed in a set of species [1].

The notion of ASRU gives some highlights on the alternative usage of s-exons, hence on functional diversity generated by alternatively spliced events.

# About the code

For a given gene, or a list of genes it generates a .csv file of the given form :

gene,uniteRepetee,instances,max,min,moy,median,ecartType,evenements
SLC6A12,"{'1_1', '1_7'}",2,68,37,52.5,52.5,15.5,[3]
SLC6A12,"{'5_2', '5_0/5_1'}",2,48,47,47.5,47.5,0.5,[2]

where max is the maximum in length, and the events column are those events (in fact the rank of the event, from highly conserved to less conserved) where the s-exon(s) played a role in.




# How to use

References
[1] : https://doi.org/10.1101/2020.11.14.382820
